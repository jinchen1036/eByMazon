#:import FadeTransition kivy.uix.screenmanager.FadeTransition

#Global Variable
<CustLabel@Label>:
    color: 0, 0, 0, 1
    font_size: 36
    bold: True


ScreenManagement:
    transition: FadeTransition()
    HomePage:
    LoginScreen:
    signUp:
    OUHomePage:
    OSprofile:
    FriendList:
    History:
    EditProfile:
<HomePage>:
    name: "homepage"
    orientation: "vertical"
    padding: 10
    spacing: 20

    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgb: (255, 255, 255)
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            size_hint_y: 0.2
            orientation: "horizontal"
            height: 30
            CustLabel:
                id: header
                text: "Welcome to EbayMazon"
                size_hint_x: 1

        # ------------- First Line ------------#

        BoxLayout:
            size_hint_y: 0.05
            orientation: "horizontal"
            height: 30
            spacing: 10
#            canvas.before:
#                Color:
#                    rgb: (0,0,0)
#                Rectangle:
#                    pos: self.pos
#                    size: self.size
            Image:
                size_hint_x: 0.2
                source: "logo.png"
                size: self.parent.size
                allow_stretch: True

            TextInput:
                id: search_id
                size_hint_x: 0.3
                multiline: False
                on_hint_text: "Search Keyword"
                on_text_validate: root.searchKeyword(search_id.text)

            Button:
                size_hint_x: 0.05
                background_color: 255, 255, 255, 1
                Image:
                    source: "search.png"
                    y: self.parent.y
                    x: self.parent.x
                    size: self.parent.size
                    allow_stretch: True
            Spinner:
                id: sort_id
                size_hint_x: 0.15
                background_color: 0, 100, 255, 0.5
                text: "Price: Low to High"
                color: 0, 0, 0, 1
                values: ["Price: Low to High", "Price: High to Low","User Rating"]
                on_text: root.sort_feature(sort_id.text)

            Button:
                size_hint_x: 0.1
                background_color: 0, 100, 255, 0.5
                text: "Login"
                color: 0, 0, 0, 1
                on_press:
                    root.manager.current = "login"

            Button:
                size_hint_x: 0.1
                background_color: 0, 100, 255, 0.5
                text: "Sign Up"
                color: 0, 0, 0, 1
                on_press:
                    root.manager.current = "signUp"

            Button:
                size_hint_x: 0.1
                background_color: 0, 100, 255, 0.5
                text: "My Account"
                color: 0, 0, 0, 1
                on_press:
                    root.manager.current = "osProfile"


        BoxLayout:
            size_hint_y: 0.7
            orientation: "horizontal"
            height: 30
            CustLabel:
                text: "Welcome to EbayMazon 2"
                size_hint_x: .80

<LoginScreen>:
    name: "login"
    title: 'Login'

    BoxLayout:
        orientation: "vertical"
        spacing:10
        padding:10

        BoxLayout:
            size_hint_y: 0.5
            orientation: "vertical"
            padding: [0, 150, 0, 0]
            BoxLayout:
                CustLabel:
                    text: "User Name"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: username

        BoxLayout:
            size_hint_y: 0.27
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "Password"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: password

        BoxLayout:
            padding: [350, 100, 350, 450]
            GridLayout:
                rows: 1
                cols: 3
                Button:
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.55, 2.04, 2.55, 0.7]
                    text: "Login"
                    on_press:
                        root.checkLogin(username.text,password.text)
                        root.manager.current = "OU homepage"

                Button:
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.17, 2.17, 2.17, 0.7]
                    text: "Cancel"
                    on_press:
                        root.manager.current = "homepage"

                Button:
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
                    text_color:
                    text: "Clear"
                    on_press: username.text =""
                    on_press: password.text =""



<signUp>:
    name: "signUp"
    title: "Sign Up"
    BoxLayout:
        orientation: "vertical"
        spacing:10
        padding:10

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "First Name"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: firstName

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "Last Name"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: lastName

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "Email"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: email

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "User Name"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: username

        BoxLayout:
            padding: [0, 150, 0, 0]
            GridLayout:
                rows: 1
                cols: 3

                Button:
                    text: "Sign Up"
                    font_size: 45
                    on_press:root.checkSignUp(firstName.text, lastName.text, email.text, username.text)
                    on_press: root.manager.current = "homepage"

                Button:
                    color: [0, 0, 0, 1]
                    font_size: 45
                    background_color: [2.17, 2.17, 2.17, 0.7]
                    text: "Cancel"
                    on_press:
                        root.manager.current = "homepage"
                Button:
                    text: "Clear"
                    font_size: 45
                    on_press: firstName.text =""
                    on_press: lastName.text =""
                    on_press: email.text =""
                    on_press: username.text =""



<OUHomePage>:
    name: "OU homepage"
    title: "OU homepage"
    BoxLayout:
        orientation: "vertical"

        BoxLayout:
            size_hint_y: 0.4
            Label:
                size_hint_x: 0.9
            Button:
                text:"Sign Out"
                size_hint_x: 0.1
                size: 150, 100
                on_press: root.manager.current = "homepage"

        BoxLayout:
            size_hint_y: 1.3
            BoxLayout:
                CustLabel:
                    text: "Welcome Manager!!!"
                    font_size: 100



        BoxLayout:
            orientation: "horizontal"
            BoxLayout:
                padding: 30
                Button:
                    text: "GU Application"
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
    #                on_press: root.manager.current = ""
            BoxLayout:
                padding: 30
                Button:
                    text: "View Transactions"
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
    #                on_press: root.manager.current = ""

        BoxLayout:
            orientation: "horizontal"
            BoxLayout:
                padding: 30
                Button:
                    text: "OU Info"
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
    #                on_press: root.manager.current = ""
            BoxLayout:
                padding: 30
                Button:
                    text: "View Item Blacklist"
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
    #                on_press: root.manager.current = ""

        BoxLayout:
            orientation: "horizontal"
            BoxLayout:
                padding: 30
                Button:
                    text: "Process Complaint"
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
    #                on_press: root.manager.current = ""
            BoxLayout:
                padding: 30
                Button:
                    text: "View OU BlackList"
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
    #                on_press: root.manager.current = ""

        BoxLayout:
            orientation: "horizontal"
            BoxLayout:
                padding: 30
                Button:
                    text: "Item Post Request"
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
    #                on_press: root.manager.current = ""
            BoxLayout:
                padding: 30
                Button:
                    text: "Maintain Taboo List"
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
    #                on_press: root.manager.current = ""




<OSprofile>:
    name: "osProfile"
    title: "The OS Profile"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            orientation: "horizontal"
            size_hint_y:0.10
            height: 15
            spacing: 10
            Label:
                size_hint_x:0.9
                text: "My Account"
                color: 0,0,0,1
            Button:
                size_hint_x:0.1
                text:"go back"
                on_press: root.manager.current = "homepage"
        BoxLayout:
            orientation: "horizontal"
            height: 15
            spacing: 10
            size_hint_y:0.90

            BoxLayout:
                orientation:"vertical"
                size_hint_x:0.4
                padding: 50
                Label:
                    size_hint_y: 0.3
                Label:
                    size_hint_y: 0.1
                    text:"name:xxx"
                    color: 0,0,0,1
                Label:
                    size_hint_y: 0.1
                    text:"phone number:xxxxxxxx"
                    color: 0,0,0,1
                Label:
                    size_hint_y: 0.1
                    text:"address:xxxxxxx"
                    color: 0,0,0,1
                Label:
                    size_hint_y: 0.1
                    text:"State:xx"
                    color: 0,0,0,1
                Label:
                    size_hint_y: 0.1
                    text:"Status:xx"
                    color: 0,0,0,1
                Label:
                    size_hint_y: 0.1
                    text:"Rating:xx"
                    color: 0,0,0,1
                Button:
                    size_hint_y: 0.1
                    text: "Edit"
                    on_press: root.manager.current = "editProfile"
                Label:
                    size_hint_y: 0.2
            BoxLayout:
                orientation: "vertical"
                size_hint_x:0.3
            
            BoxLayout:
                orientation: "vertical"
                size_hint_x:0.3
                Label:
                    size_hint_y:0.1
                Button:
                    size_hint_y: 0.1
                    text: "Friend List"
                    on_press: root.manager.current = "friendlist"
                Button:
                    size_hint_y: 0.1
                    text: "History"
                    on_press: root.manager.current = "history" 
                Button:
                    size_hint_y: 0.1
                    spacing: 10
                    text: "My item"
                Button:
                    size_hint_y: 0.1
                    spacing: 10
                    text: "Warning"
                Label:
                    size_hint_y:0.1




<FriendList>:
    name: "friendlist"
    title: "the friend list"
    BoxLayout:
        size_hint_y:1.92
        orientation: "horizontal"
        height: 15
        spacing: 10
        Label:
            text: "My friends"
            color: 0,0,0,1
    BoxLayout:
        size_hint_y: 0.05
        orientation: "horizontal"
        height: 30
        spacing: 10
        Button:
            text: "Go back"
            on_press: root.manager.current = "osProfile"

<History>:
    name: "history"
    title: "the history"
    BoxLayout:
        size_hint_y:1.92
        orientation: "horizontal"
        height: 15
        spacing: 10
        Label:
            text: "My Transition History"
            color: 0,0,0,1
    BoxLayout:
        size_hint_y: 0.05
        orientation: "horizontal"
        height: 30
        spacing: 10
        Button:
            text: "Go back"
            on_press: root.manager.current = "osProfile"

<EditProfile>:
    name: "editProfile"
    title: "to edit profile"
    FloatLayout:
        canvas:
            Color:
                rgb: 1, 1, 3
            Rectangle:
                size: self.size
                pos: self.pos
        GridLayout:
            rows: 7
            cols: 2
            padding: 10
            spacing: 10

            CustLabel:
                text: 'name'
            TextInput:
                id: name
                multiline: False
            CustLabel:
                text: 'Phone number'
            TextInput:
                id: phone_number
                multiline: False
            CustLabel:
                text: 'Email'
            TextInput:
                id: email
                multiline: False
            CustLabel:
                text: 'Address'
            TextInput:
                id: address
                multiline: False
            CustLabel:
                text: 'State'
            TextInput:
                id: state
                multiline: False
            CustLabel:
                text: 'Card Number'
            TextInput:
                id: cardNum
                multiline: False
            Button:
                text: "Go back"
                on_press: root.manager.current = "osProfile"
            Button:
                text: "Save"
                on_press: root.manager.current = "osProfile"
